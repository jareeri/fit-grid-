{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Orange\\\\Desktop\\\\Masterpiece\\\\client\\\\src\\\\Components\\\\users\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useCookies } from 'react-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const [user, setUser] = useState([]);\n  const [headers, setHeaders] = useState();\n  const [cookie] = useCookies([\"token\"]);\n  useEffect(() => {\n    if (cookie.token !== undefined) {\n      setUser(true);\n    } else {\n      setUser(false);\n    }\n  }, [cookie]);\n  useEffect(() => {\n    setHeaders({\n      'token': cookie.token\n    });\n    axios.get(`http://localhost:5000/user`, {\n      headers: headers\n    }).then(response => {\n      setUser(response.data);\n    }).catch(error => {\n      console.error(\"Error fetching user data:\", error);\n    });\n  }, [headers, cookie.token]);\n  const [photoName, setPhotoName] = useState(null);\n  const [photoPreview, setPhotoPreview] = useState(null);\n  const [imageFile, setImageFile] = useState(null);\n  const [error, setError] = useState(\"\");\n  const fileInputRef = useRef(null);\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    setImageFile(e.target.files[0]);\n    if (file) {\n      setPhotoName(file.name);\n      const reader = new FileReader();\n      reader.onload = e => {\n        setPhotoPreview(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleSelectPhoto = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  };\n  const handleSaveChanges = async e => {\n    e.preventDefault();\n    if (!error) {\n      const updatedUser = {\n        id: user.user_id,\n        first_name: user.first_name || '',\n        last_name: user.last_name || '',\n        email: user.email || '',\n        phone: user.phone || '',\n        profile_image_name: imageFile\n      };\n      console.log(\"Updated User:\", updatedUser);\n      console.log(\"Headers:\", headers);\n      try {\n        const response = await axios.put(`http://localhost:5000/updateuser`, updatedUser, {\n          headers: headers\n        });\n        console.log(\"Response:\", response.data);\n      } catch (error) {\n        console.error(\"Error updating Information:\", error);\n        alert(\"Error updating Information\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"rCO2h1s40o395YDIMUGm3uH8AME=\", false, function () {\n  return [useCookies];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","useRef","axios","useCookies","jsxDEV","_jsxDEV","Profile","_s","user","setUser","headers","setHeaders","cookie","token","undefined","get","then","response","data","catch","error","console","photoName","setPhotoName","photoPreview","setPhotoPreview","imageFile","setImageFile","setError","fileInputRef","handleFileChange","e","file","target","files","name","reader","FileReader","onload","result","readAsDataURL","handleSelectPhoto","current","click","handleSaveChanges","preventDefault","updatedUser","id","user_id","first_name","last_name","email","phone","profile_image_name","log","put","alert","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Orange/Desktop/Masterpiece/client/src/Components/users/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useCookies } from 'react-cookie';\n\nconst Profile = () => {\n  const [user, setUser] = useState([]);\n  const [headers, setHeaders] = useState();\n  const [cookie] = useCookies([\"token\"]);\n\n  useEffect(() => {\n    if (cookie.token !== undefined) {\n      setUser(true);\n    } else {\n      setUser(false);\n    }\n  }, [cookie]);\n\n  useEffect(() => {\n    setHeaders({ 'token': cookie.token });\n    axios.get(`http://localhost:5000/user`, { headers: headers })\n      .then((response) => {\n        setUser(response.data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching user data:\", error);\n      });\n  }, [headers, cookie.token]);\n\n  const [photoName, setPhotoName] = useState(null);\n  const [photoPreview, setPhotoPreview] = useState(null);\n  const [imageFile, setImageFile] = useState(null);\n  const [error, setError] = useState(\"\");\n  const fileInputRef = useRef(null);\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    setImageFile(e.target.files[0]);\n    if (file) {\n      setPhotoName(file.name);\n\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setPhotoPreview(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSelectPhoto = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  };\n\n  const handleSaveChanges = async (e) => {\n    e.preventDefault();\n    if (!error) {\n      const updatedUser = {\n        id: user.user_id,\n        first_name: user.first_name || '',\n        last_name: user.last_name || '',\n        email: user.email || '',\n        phone: user.phone || '',\n        profile_image_name: imageFile\n      };\n\n      console.log(\"Updated User:\", updatedUser);\n      console.log(\"Headers:\", headers);\n\n      try {\n        const response = await axios.put(\n          `http://localhost:5000/updateuser`,\n          updatedUser,\n          {\n            headers: headers\n          }\n        );\n        console.log(\"Response:\", response.data);\n      } catch (error) {\n        console.error(\"Error updating Information:\", error);\n        alert(\"Error updating Information\");\n      }\n    }\n  };\n\n  return (\n    <div>\n      {/* Your JSX structure goes here */}\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,CAAC;EACxC,MAAM,CAACY,MAAM,CAAC,GAAGT,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC;EAEtCJ,SAAS,CAAC,MAAM;IACd,IAAIa,MAAM,CAACC,KAAK,KAAKC,SAAS,EAAE;MAC9BL,OAAO,CAAC,IAAI,CAAC;IACf,CAAC,MAAM;MACLA,OAAO,CAAC,KAAK,CAAC;IAChB;EACF,CAAC,EAAE,CAACG,MAAM,CAAC,CAAC;EAEZb,SAAS,CAAC,MAAM;IACdY,UAAU,CAAC;MAAE,OAAO,EAAEC,MAAM,CAACC;IAAM,CAAC,CAAC;IACrCX,KAAK,CAACa,GAAG,CAAE,4BAA2B,EAAE;MAAEL,OAAO,EAAEA;IAAQ,CAAC,CAAC,CAC1DM,IAAI,CAAEC,QAAQ,IAAK;MAClBR,OAAO,CAACQ,QAAQ,CAACC,IAAI,CAAC;IACxB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACnD,CAAC,CAAC;EACN,CAAC,EAAE,CAACV,OAAO,EAAEE,MAAM,CAACC,KAAK,CAAC,CAAC;EAE3B,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACwB,YAAY,EAAEC,eAAe,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAAC0B,SAAS,EAAEC,YAAY,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACoB,KAAK,EAAEQ,QAAQ,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM6B,YAAY,GAAG5B,MAAM,CAAC,IAAI,CAAC;EAEjC,MAAM6B,gBAAgB,GAAIC,CAAC,IAAK;IAC9B,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9BP,YAAY,CAACI,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAIF,IAAI,EAAE;MACRT,YAAY,CAACS,IAAI,CAACG,IAAI,CAAC;MAEvB,MAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,MAAM,GAAIP,CAAC,IAAK;QACrBN,eAAe,CAACM,CAAC,CAACE,MAAM,CAACM,MAAM,CAAC;MAClC,CAAC;MACDH,MAAM,CAACI,aAAa,CAACR,IAAI,CAAC;IAC5B;EACF,CAAC;EAED,MAAMS,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAIZ,YAAY,CAACa,OAAO,EAAE;MACxBb,YAAY,CAACa,OAAO,CAACC,KAAK,CAAC,CAAC;IAC9B;EACF,CAAC;EAED,MAAMC,iBAAiB,GAAG,MAAOb,CAAC,IAAK;IACrCA,CAAC,CAACc,cAAc,CAAC,CAAC;IAClB,IAAI,CAACzB,KAAK,EAAE;MACV,MAAM0B,WAAW,GAAG;QAClBC,EAAE,EAAEvC,IAAI,CAACwC,OAAO;QAChBC,UAAU,EAAEzC,IAAI,CAACyC,UAAU,IAAI,EAAE;QACjCC,SAAS,EAAE1C,IAAI,CAAC0C,SAAS,IAAI,EAAE;QAC/BC,KAAK,EAAE3C,IAAI,CAAC2C,KAAK,IAAI,EAAE;QACvBC,KAAK,EAAE5C,IAAI,CAAC4C,KAAK,IAAI,EAAE;QACvBC,kBAAkB,EAAE3B;MACtB,CAAC;MAEDL,OAAO,CAACiC,GAAG,CAAC,eAAe,EAAER,WAAW,CAAC;MACzCzB,OAAO,CAACiC,GAAG,CAAC,UAAU,EAAE5C,OAAO,CAAC;MAEhC,IAAI;QACF,MAAMO,QAAQ,GAAG,MAAMf,KAAK,CAACqD,GAAG,CAC7B,kCAAiC,EAClCT,WAAW,EACX;UACEpC,OAAO,EAAEA;QACX,CACF,CAAC;QACDW,OAAO,CAACiC,GAAG,CAAC,WAAW,EAAErC,QAAQ,CAACC,IAAI,CAAC;MACzC,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACnDoC,KAAK,CAAC,4BAA4B,CAAC;MACrC;IACF;EACF,CAAC;EAED,oBACEnD,OAAA;IAAAoD,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEK,CAAC;AAEV,CAAC;AAACrD,EAAA,CAtFID,OAAO;EAAA,QAGMH,UAAU;AAAA;AAAA0D,EAAA,GAHvBvD,OAAO;AAwFb,eAAeA,OAAO;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}