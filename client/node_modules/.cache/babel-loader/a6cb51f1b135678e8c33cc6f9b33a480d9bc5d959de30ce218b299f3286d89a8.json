{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Orange\\\\Desktop\\\\Masterpiece\\\\client\\\\src\\\\Pages\\\\CoursePage\\\\Chat.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n\n  // Replace with your Firebase config\n  const firebaseConfig = {\n    apiKey: 'YOUR_API_KEY',\n    authDomain: 'YOUR_AUTH_DOMAIN',\n    projectId: 'YOUR_PROJECT_ID',\n    storageBucket: 'YOUR_STORAGE_BUCKET',\n    messagingSenderId: 'YOUR_MESSAGING_SENDER_ID',\n    appId: 'YOUR_APP_ID'\n  };\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  }\n  const db = firebase.firestore();\n  const chatRef = db.collection('chat');\n  useEffect(() => {\n    const unsubscribe = chatRef.onSnapshot(snapshot => {\n      const messagesData = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setMessages(messagesData);\n    });\n    return () => unsubscribe();\n  }, []);\n  const handleSendMessage = async () => {\n    await chatRef.add({\n      text: newMessage,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp()\n    });\n    setNewMessage('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0627\\u0644\\u062F\\u0631\\u062F\\u0634\\u0629\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: message.text\n      }, message.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: newMessage,\n      onChange: e => setNewMessage(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSendMessage,\n      children: \"\\u0625\\u0631\\u0633\\u0627\\u0644\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"ppYy//Iy9fHF0/R/fKleZlFUFyc=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","firebase","jsxDEV","_jsxDEV","Chat","_s","messages","setMessages","newMessage","setNewMessage","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","apps","length","initializeApp","db","firestore","chatRef","collection","unsubscribe","onSnapshot","snapshot","messagesData","docs","map","doc","id","data","handleSendMessage","add","text","timestamp","FieldValue","serverTimestamp","children","fileName","_jsxFileName","lineNumber","columnNumber","message","type","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Orange/Desktop/Masterpiece/client/src/Pages/CoursePage/Chat.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nconst Chat = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n\r\n  // Replace with your Firebase config\r\n  const firebaseConfig = {\r\n    apiKey: 'YOUR_API_KEY',\r\n    authDomain: 'YOUR_AUTH_DOMAIN',\r\n    projectId: 'YOUR_PROJECT_ID',\r\n    storageBucket: 'YOUR_STORAGE_BUCKET',\r\n    messagingSenderId: 'YOUR_MESSAGING_SENDER_ID',\r\n    appId: 'YOUR_APP_ID',\r\n  };\r\n\r\n  if (!firebase.apps.length) {\r\n    firebase.initializeApp(firebaseConfig);\r\n  }\r\n\r\n  const db = firebase.firestore();\r\n  const chatRef = db.collection('chat');\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = chatRef.onSnapshot((snapshot) => {\r\n      const messagesData = snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\r\n      setMessages(messagesData);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  const handleSendMessage = async () => {\r\n    await chatRef.add({\r\n      text: newMessage,\r\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n\r\n    setNewMessage('');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>الدردشة</h2>\r\n      <div>\r\n        {messages.map((message) => (\r\n          <div key={message.id}>{message.text}</div>\r\n        ))}\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        value={newMessage}\r\n        onChange={(e) => setNewMessage(e.target.value)}\r\n      />\r\n      <button onClick={handleSendMessage}>إرسال</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}